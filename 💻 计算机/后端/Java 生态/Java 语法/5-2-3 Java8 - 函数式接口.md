
> [!quote] å‡½æ•°å¼æ¥å£
> å‡½æ•°å¼æ¥å£ æ˜¯æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼Œ~~å‡½æ•°å¼æ¥å£å®Œå…¨å°±æ˜¯ä¸ºäº† Lambda è¡¨è¾¾å¼è€Œæ‰“é€ çš„ï¼Œå®ƒçš„æ¦‚å¿µå°±æ˜¯ Lambda è¡¨è¾¾å¼çš„ä½¿ç”¨å‰æ~~
> 
> - ä½¿ç”¨ `@FunctionalInterface` è®©ç¼–è¯‘å™¨æ£€æŸ¥è¯¥æ¥å£æ˜¯å¦ç¬¦åˆå‡½æ•°å¼æ¥å£è§„èŒƒ

# å‡½æ•°å¼æ¥å£ç”¨ä½œå±€éƒ¨å˜é‡
```java
@FunctionalInterface               //è¿™æ˜¯ä¸€ä¸ªæ³¨è§£ï¼Œå‘Šè¯‰åˆ«äººè¿™æ˜¯å‡½æ•°å¼æ¥å£ã€‚
public interface MyInterface {     //åŠ ä¸Šæ³¨è§£ä¹‹åï¼Œå†åœ¨è¯¥æ¥å£ä¸­æ·»åŠ æ–¹æ³•ä¼šæŠ¥é”™
    void show();  
}
```
```java
public class Demo {  
    public static void main(String[] args) {  
        MyInterface mif = () -> System.out.println("å‡½æ•°å¼æ¥å£");  
        mif.show();  
    }                     //å…¶å®Lambdaè¡¨è¾¾å¼ä»£è¡¨çš„è¿˜æ˜¯MyInterfaceçš„ä¸€ä¸ªå®ç°ç±»å¯¹è±¡
}


å‡½æ•°å¼æ¥å£
```
# å‡½æ•°å¼æ¥å£ä½œä¸ºæ–¹æ³•å‚æ•°

> ä¸Šè¿°å·²ç»å†™äº†å¾ˆå¤šäº†

# å‡½æ•°å¼æ¥å£ä½œä¸ºæ–¹æ³•çš„è¿”å›å€¼
```java
public class ComparatorDemo {  
    public static void main(String[] args) {  
        TreeSet<String> ts = new TreeSet<String>(getComparator());    //ä¼ å…¥è¿™ä¸ªæ¯”è¾ƒå™¨
  
        String s1 = "åˆ˜å¾·å";  
        String s2 = "é»æ˜";  
        String s3 = "æ¬§é˜³å¨œå¨œ";  
  
        ts.add(s1);  
        ts.add(s2);  
        ts.add(s3);  
  
        for (String s : ts) {  
            System.out.println(s);  
        }  
    }  
  
    public static Comparator<String> getComparator() {  
//        Comparator<String> cp = new Comparator<String>() {  
//            @Override  
//            public int compare(String s1, String s2) {             //åŒ¿åå†…éƒ¨ç±»
//                return s1.length() - s2.length();  
//            }  
//        };  
//        return cp;  
  
        Comparator<String> cp = (String s1, String s2) -> {  
            return s1.length() - s2.length();  
        };  
  
        return cp;  
    }  
}


é»æ˜
åˆ˜å¾·å
æ¬§é˜³å¨œå¨œ
```

# â¤ï¸ å¸¸ç”¨çš„å‡½æ•°å¼æ¥å£
## ğŸ’› Supplier

> [!quote] Supplier
> Supplier æ˜¯ä¸€ä¸ª<u>ç”Ÿäº§å‹æ¥å£</u>ï¼Œget() æ–¹æ³•ä¸ç”¨å‚æ•°ï¼Œè€Œä¸”è¿˜è¿”å›ï¼ˆç”Ÿäº§ï¼‰ä¸€ä¸ªæ³›å‹
> 
> ```
> @FunctionalInterface 
> public interface Supplier\<T>
> ```

- `T get()` è¿”å›ä¸€ä¸ªæ³›å‹ T

```java
public class SupplierDemo {  
    public static void main(String[] args) {  
        int arr[] = {4, 2, 55, 33, 88};                  //å®šä¹‰æ•°ç»„
  
        int Max = getMax(new Supplier<Integer>() {       //æ¥æ”¶æœ€å¤§å€¼
            @Override  
            public Integer get() {                  //é‡å†™get()æ–¹æ³•
                int max = arr[0];  
  
                for (int i = 1; i < arr.length; i++) {  
                    if (arr[i] > max) {  
                        max = arr[i];  
                    }  
                }  
                return max;  
            }  
        });  
        System.out.println(Max);                    //è¾“å‡ºæ•°ç»„çš„æœ€å¤§å€¼
    }  
  
    public static int getMax(Supplier<Integer> sup) {  
        return sup.get();  
    }  
}


88
```
## ğŸ’› Consumer

> [!quote] Consumer
> Consumer æ˜¯ä¸€ä¸ª<u>æ¶ˆè´¹å‹æ¥å£</u>ï¼Œæ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œåšä¸€ç³»åˆ—æ“ä½œï¼Œæ— è¿”å›å€¼
> 
> ```
> @FunctionalInterface 
> public interface Consumer\<T>
> ```

- `void accept(T  t)` å¯¹ç»™å®šçš„å‚æ•° T è¿›è¡Œæ“ä½œ

```java
public class ConsumerDemo {  
    public static void main(String[] args) {  
        OpString("å´å½¦ç¥–", (String s) -> System.out.println(s.length()));  
    }  
  
    public static void OpString(String s, Consumer<String> con) {  
        con.accept(s);  
    }  
}


3
```

## ğŸ’› Predicate

> [!quote] Predicate
> Predicate æ˜¯ä¸€ä¸ª<u>è¯„ä¼°å‹æ¥å£</u>ï¼Œæ¥æ”¶ä¸€ä¸ªå‚æ•°è¿›è¡Œè¯„ä¼°ï¼Œè¿”å›ä¸€ä¸ª boolean
> 
> ```
> @FunctionalInterface 
> public interface Predicate\<T>
> ```

- `boolean test(T t)` æ¥æ”¶æ³›å‹ï¼Œè¯„ä¼°åï¼Œè¿”å› boolean å€¼
- `default Predicate<\T> negate()` è¿”å›ä¸€ä¸ªé€»è¾‘çš„å¦å®šï¼ˆé€»è¾‘éï¼‰
- `default Predicate<\T> and(Predicate other)` è¿”å›ä¸€ä¸ªç»„åˆåˆ¤æ–­ï¼ˆé€»è¾‘ä¸ï¼‰
- `default Predicate<\T> or(Predicate other)` è¿”å›ä¸€ä¸ªç»„åˆåˆ¤æ–­ï¼ˆé€»è¾‘æˆ–ï¼‰

---

<u>test()</u> ï¼š
```java
public static void main(String[] args) {  
	Boolean b = CheckString("å´å½¦ç¥–", (String s) -> {  
		return s.equals("å´å½¦ç¥–");  
	});  
  
	System.out.println(b);  
}  
  
public static boolean CheckString(String s, Predicate<String> pre) {  
	return pre.test(s);         
}


true
```

<u>negate()</u> ï¼š
```java
public static void main(String[] args) {  
	Boolean b = CheckString("å´å½¦ç¥–", (String s) -> {  
		return s.equals("å´å½¦ç¥–");  
	});  
  
	System.out.println(b);  
}  
  
public static boolean CheckString(String s, Predicate<String> pre) {  
	return pre.negate().test(s);              //å…ˆå¯¹preè¿›è¡Œnegateæ“ä½œï¼Œç„¶åè°ƒç”¨test()
}


false
```

> [!faq] ä¸ºä»€ä¹ˆä¸ç›´æ¥ return !pre.test(s)ï¼Œè€Œæ˜¯ return pre.negate().test(s)ï¼Ÿ
> ç»“æœè™½ç„¶ç›¸åŒä½†æ˜¯ç†å¿µä¸åŒ
> 
> > å‰è€…è¡¨è¾¾çš„æ˜¯ï¼Œè¿”å›ä¸€ä¸ª predicate å¯¹è±¡è°ƒç”¨ test æ–¹æ³•ä¹‹åç»“æœçš„é
> > åè€…è¡¨è¾¾çš„æ˜¯ï¼Œè¿”å›ä¸€ä¸ª predicate å¯¹è±¡çš„é€»è¾‘éåï¼Œå†è°ƒç”¨ test æ–¹æ³•çš„ç»“æœ

<u>and()ï¼Œor()</u> ï¼š
```java
public static void main(String[] args) {  
	Boolean b = CheckString("å´å½¦ç¥–", (String s) -> {  
		return s.equals("å´å½¦ç¥–");  
	}, (String s) -> {  
		return s.equals("é™ˆå† å¸Œ");  
	});  

	System.out.println(b);  
}  

public static boolean CheckString(String s, Predicate<String> pre1, Predicate<String> pre2)     {  
	//boolean b1 = pre1.test(s);  
	//boolean b2 = pre2.test(s);              //å¯ç”¨è¿™ä¸‰æ¡è¯­å¥ä»£æ›¿ï¼Œä½†æ˜¯è¡¨æ„ä¸åŒ
	//return b3 = b1 && b2;  
	return pre1.and(pre2).test(s);  
}


false
```

## ğŸ’› Function

> [!quote] Function
> Function æ˜¯ä¸€ä¸ª<u>è½¬æ¢å‹æ¥å£</u>ï¼Œæ¥æ”¶ä¸€ä¸ªå‚æ•°å°†å…¶è½¬æ¢ä¸ºå¦ä¸€ä¸ªå‚æ•°
> 
> ```
> @FunctionalInterface
> public interface Function\<T,R>
> ```

---

- `R apply(T t)`
- `default<V> Function<T,V> andThen(Function after)`

```java
public class FunctionDemo {  
    public static void main(String[] args) {  
        convert("100", (String s) -> {  
            return Integer.parseInt(s);  
        });  
    }  
  
    public static void convert(String s, Function<String, Integer> fun) {  
        int i = fun.apply(s);  
        System.out.println(i);  
    }  
}


100
```

## ğŸ’› Runnable
Runnable å‡½æ•°å¼æ¥å£æ²¡æœ‰å…¥å‚ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼Œåªæ˜¯æ‰§è¡Œ

```java
@FunctionalInterface
public interface Runnable {
    public abstract void run();
}
```

# é—­åŒ…

> [!quote] é—­åŒ…
> é—­åŒ… å°±æ˜¯å‡½æ•°åœ¨å®šä¹‰æ—¶ï¼Œâ€œè®°ä½â€äº†å®ƒè‡ªå·±æ‰€åœ¨çš„ä½œç”¨åŸŸä¸­çš„å˜é‡ ~~ã€counter å‡½æ•°è®°ä½äº† createCounter é‡Œçš„ count å˜é‡ã€‘~~

```java
public static void main(String[] args) {
	Supplier<Integer> counter = createCounter();

	// æ¯æ¬¡è°ƒç”¨ï¼Œé—­åŒ…éƒ½ä¼šè®°ä½ count çš„çŠ¶æ€
	System.out.println(counter.get()); // è¾“å‡º 1
	System.out.println(counter.get()); // è¾“å‡º 2
	System.out.println(counter.get()); // è¾“å‡º 3
}

private static Supplier<Integer> createCounter() {
	// ä½¿ç”¨æ•°ç»„æ¥ä¿å­˜çŠ¶æ€ï¼ˆå› ä¸ºå¤–éƒ¨å˜é‡éœ€è¦æ˜¯ effectively finalï¼‰
	int[] count = {0}; 
	return () -> {
		count[0]++;
		return count[0];
	};
}
```