# SaaS 是什么

🧩 云计算行业中常见的三种软件交付模式：
- 基础设施即服务 IaaS ：用户通过互联网租用虚拟机等硬件资源，并根据需要进行扩展
- 平台即服务 PaaS ：PaaS 是在 IaaS 的基础上，包括了操作系统、数据库等开发工具，帮助开发者构建和部署应用程序
- 软件即服务 SaaS ：SaaS 是提供已经构建好的软件应用，用户可以通过互联网直接使用，无需考虑服务的维护和底层基础设施的管理

🧩 SaaS 的优缺点 ：
- 易于企业软件更新，无需现场给客户部署
- 无需用户自己维护，易用性高
- 按需付费
- SaaS 的可定制化程度低

🧩 常用的 SaaS 应用程序类型 :
- 客户关系管理 CRM
- 企业资源规划 ERP
- 电子邮件营销软件
- 会计软件
- 人力资源软件
- 协作工具
- 文件编辑服务
- 通信软件
- 联络中心软件

# 多租户
🧩 SaaS 的原则 ：所有的租户环境都需要使用相同版本的软件。这是为了确保不同租户之间的一致性，特别是当软件版本更新时，所有租户都需要同时部署新版本

🧩 SaaS 供应商采用多租户模型，通过一个单一版本的 SaaS 为多个租户提供服务。每个租户可以是一个公司或个人用户，所有租户共享同一个 SaaS 环境，但其数据和设置相互隔离，确保每个租户的操作不干扰其他租户。 

🧩 关键要素 ：
- 要确保新租户的加入要顺畅，最好可以通过自助注册页面或内部管理方式完成
- 系统需要明确的方法来将用户与租户关联
- 计费服务支持租户加入后收集消费和活动数据，用于生成租户账单
- SaaS 系统必须有管理员用户，用于 SaaS 监控和管理 SaaS 环境

# 多租户的三种模式
🧩 SaaS 不等于多租户。例如后两者，系统仍然可以是 SaaS，但不是多租户 ：
- 孤岛模式 ：每个租户的资源都是独立且隔离的，这意味着每个租户拥有专用的计算资源、存储资源
  - 高度隔离，更加安全
  - 独享资源，性能较高
  - 允许定制化和特定需求的支持
  - 成本较高，因为每个租户需要独立的资源和基础设施
  - 维护和管理复杂，需要对每个孤岛环境进行单独管理和更新
- 池模式 ：多个租户共享同一套资源池，比如多个租户共享同一个服务器或数据库
  - 资源共享，提高资源利用率，降低成本
  - 维护简单，统一版本管理
  - 租户之间的资源共享可能带来安全隐患
  - 性能可能受其他租户影响，因为资源是共享的
- 混合模式 ：孤岛模式和池模式不是互斥的，可以共存与同一个 SaaS 系统。例如，基础级别的租户（付费较少的租户）可能被放置在池模式中共享资源，而高级租户（支付更多的租户）则享有孤岛模式，拥有独立的资源和环境
  - 适应不同租户的需求，能够提供多样化的服务
  - 资源管理和部署更为复杂，需要确保不同模式之间的兼容性和一致性
  - 发布新版本时需要在每个环境中进行同步部署，增加了运维的难度

🧩 具体场景示例 ：
- 发票微服务：采用混合模式，允许发票服务在计算资源上最大化利用，但又能确保每个租户的发票数据安全、隔离
- 队列：采用孤岛模式，这样每个租户的消息队列是隔离的，确保了消息的处理和传递不受其他租户的影响
- 配送微服务：采用池模式

# SaaS 迁移
🧩 不同角度的迁移方式 ：
- 侧重技术的迁移方式
  - 如何隔离租户数据
  - 如何将用户与租户联系起来（为每个用户分配租户 ID）
  - 如何避免近邻干扰
  - 如何根据租户需求进行动态扩展（容器化、云基础设施、自动伸缩）
  - 应该使用哪个计费提供商
- 侧重业务的迁移方式
  - SaaS 如何帮助我们发展业务
  - 确定 SaaS 产品的客户群体，市场定位
  - SaaS 产品的定价

🧩 在 SaaS 中，不同租户一般会共享以下资源 ：
- 身份识别：用于验证用户身份
- 加入：指用户的注册或加入过程，包括账户创建等
- 指标：系统使用情况、性能数据
- 账单：服务订阅和计费

🧩 迁移注意点 ：
- 迁移初期可能会选择孤岛模式运行，这样可以减少迁移过程中的风险
- 在迁移过程中，共享服务（例如身份管理、租户管理、账单服务等）必须优先部署

